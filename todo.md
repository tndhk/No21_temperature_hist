# TODO

## タスク一覧

- [x] @rules を熟読する
  - 詳細: `.cursor/rules/dev-rules` ディレクトリ以下のルールファイル（nextjs.mdc, todo.mdc, tech-stack.mdc など）をすべて確認し、プロジェクトの運用ルールを把握する
  - 依存関係: なし
  - 見積時間: 10分

- [x] 要件定義を熟読する
  - 詳細: `No21_temparture_daily.md` を読み込み、MVP機能要件・非機能要件・ユーザーストーリーを把握する
  - 依存関係: @rules の熟読完了
  - 見積時間: 10分

- [x] 開発方法を検討する
  - 詳細: 技術選定、アーキテクチャ設計、フォルダ構成を策定
  - 依存関係: 要件定義の熟読完了
  - 見積時間: 30分

- [x] todo.md ファイルを作成する
  - 詳細: プロジェクトルートに本ファイル（`todo.md`）を作成し、タスク管理のフォーマットを設定する
  - 依存関係: @rules の熟読完了
  - 見積時間: 5分

- [x] プロジェクト初期設定の確認
  - 詳細: Next.js, TypeScript, ESLint, Prettier などの環境設定を確認し、必要に応じてドキュメントを整備する
  - 依存関係: todo.md 作成完了
  - 見積時間: 30分

- [x] データベーススキーマ設計のドラフト作成
  - 詳細: `dev-rules/db-blueprint.mdc` を参照し、温度履歴用のテーブル設計をドラフトする
  - 依存関係: プロジェクトの要件定義完了
  - 見積時間: 60分

- [x] ETL機能開発 (手動トリガー)
  - 詳細: 画面上のボタンで手動トリガー、初回取得時は過去10年分を1年単位のチャンク分割で順次取得、欠損値・異常値チェック、7日間移動平均計算、Prisma upsert で保存
  - 依存関係: データベーススキーマ設計のドラフト完了
  - 見積時間: 120分

- [x] API実装
  - 詳細: Next.js API (Server Actions) にエンドポイント実装、キャッシュ・レート制御
  - 依存関係: ETLバッチ開発完了
  - 見積時間: 90分

- [x] フロントエンド実装
  - 詳細: 7日間移動平均、最高気温、最低気温の折れ線グラフ可視化、年選択UI、ツールチップ
  - 依存関係: API実装完了
  - 見積時間: 240分

- [~] テスト実装
  - 詳細: ユニットテスト、E2Eテスト、パフォーマンステスト
  - 依存関係: 機能実装完了
  - 見積時間: 120分

- [~] Vercel デプロイ準備
  - 詳細: ビルドスクリプト修正 (prisma generate/deploy追加), .gitignore更新, 環境変数設定要確認
  - 依存関係: プロジェクトのリポジトリ初期化完了
  - 見積時間: 45分

- [ ] ドキュメント整備
  - 詳細: README、APIドキュメント、開発ガイド作成
  - 依存関係: 機能実装完了
  - 見積時間: 60分

- [ ] 運用・監視設定
  - 詳細: モニタリングとアラート通知設定
  - 依存関係: CI/CDパイプライン構築完了
  - 見積時間: 60分 
